---
title: "Final project: Group 1"
format:
  html:
    embed-resources: true
editor: visual
---

## Members

-   Anna Lifousi (`s232979`)
-   Jordan Sylvester Fernandes (`s222497`)
-   Manuel Arcieri (`s230158`)
-   Quim Bech Vilaseca (`s233374`)
-   Xavier Vi√±as Margalef (`s233532`)

## Load data

### Load libraries

```{r}
#| echo: true
#| message: true

library("broom")
library("patchwork")
library("purrr")
library("readr")
library("stringr")
library("table1")
library("tidyverse")
```

### Download diabetes dataset

```{r}
#| echo: true
#| message: true

raw_dir <- "../_raw/"
data_file <- "diabetes.csv"
data_loc <- "https://r4bds.trifogli.rip/"

if (!dir.exists(raw_dir)) {
    dir.create(path = raw_dir)
}

if(!file.exists(str_c(raw_dir, data_file))){
  download.file(
    url = str_c(data_loc, data_file),
    destfile = str_c(raw_dir, data_file))
}
```

## Clean data

```{r}
data <- read_csv("../_raw/diabetes.csv")

columns_to_replace <- c("Glucose", "BloodPressure", "SkinThickness", "BMI","DiabetesPedigreeFunction", "Age")

data <- data |> 
  mutate_at(.vars = columns_to_replace, ~ifelse(. == 0, NA, .)) |>
  rename(BP = BloodPressure,
         Skin_thick = SkinThickness,
         DPF = DiabetesPedigreeFunction)

data$Insulin <- ifelse(data$Outcome == 0 & data$Insulin == 0, NA, data$Insulin)

View(data)

write_tsv(data, file = '../data/01_dat_load.tsv')
```

## Describe data

To address the description of the dataset, we are going calculate the basic statistics of the dataset, and also what they are about.

```{r}
summary(data)
```

# Pregnancies
The pregnancies attributes corresponds to the number of pregnancies that the patient has had. It only has discrete values that go from 0 to 17, with an median value of 3 pregnancies. 

# Plasma Glucose Concentration
This attribute descript the concentration of glucose in the patients blood in mg/dL. It has continuous data and the base and max value are 44 mg/dL and 199 mg/dL, accordingly. Moreover, the mean value is 121.7 mg/dL.

## Augment data

...

# Analyse data

...
